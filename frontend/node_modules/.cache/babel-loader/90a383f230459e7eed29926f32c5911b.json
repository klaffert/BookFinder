{"ast":null,"code":"import _defineProperty from \"/Users/flatironschool/Desktop/mod_4/React/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/flatironschool/Desktop/mod_4/React/frontend/src/components/Login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { api } from '../services/api';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      const newFields = _objectSpread({}, this.state.fields, {\n        [e.target.name]: e.target.value\n      });\n\n      this.setState({\n        fields: newFields\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      api.auth.login(this.state.fields).then(res => {\n        if (!res.error) {\n          const updatedState = _objectSpread({}, this.state.auth, {\n            user: res\n          });\n\n          this.props.handleLogin(res);\n          this.props.history.push('/');\n        } else {\n          this.setState({\n            error: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      error: false,\n      fields: {\n        username: '',\n        password: ''\n      }\n    };\n  }\n\n  render() {\n    const fields = this.state.fields;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, this.state.error ? React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Try again...\") : null, React.createElement(\"div\", {\n      className: \"ui form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      name: \"username\",\n      placeholder: \"username\",\n      value: fields.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ui field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"password\",\n      value: fields.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"ui basic green button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Login\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/flatironschool/Desktop/mod_4/React/frontend/src/components/Login.js"],"names":["React","api","Login","Component","constructor","handleChange","e","newFields","state","fields","target","name","value","setState","handleSubmit","preventDefault","auth","login","then","res","error","updatedState","user","props","handleLogin","history","push","username","password","render"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAWdC,YAXc,GAWCC,CAAC,IAAI;AAClB,YAAMC,SAAS,qBAAQ,KAAKC,KAAL,CAAWC,MAAnB;AAA2B,SAACH,CAAC,CAACI,MAAF,CAASC,IAAV,GAAiBL,CAAC,CAACI,MAAF,CAASE;AAArD,QAAf;;AACA,WAAKC,QAAL,CAAc;AAAEJ,QAAAA,MAAM,EAAEF;AAAV,OAAd;AACD,KAda;;AAAA,SAgBdO,YAhBc,GAgBCR,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACS,cAAF;AACAd,MAAAA,GAAG,CAACe,IAAJ,CAASC,KAAT,CAAe,KAAKT,KAAL,CAAWC,MAA1B,EAAkCS,IAAlC,CAAuCC,GAAG,IAAI;AAC5C,YAAI,CAACA,GAAG,CAACC,KAAT,EAAgB;AACd,gBAAMC,YAAY,qBAAQ,KAAKb,KAAL,CAAWQ,IAAnB;AAAyBM,YAAAA,IAAI,EAAEH;AAA/B,YAAlB;;AACA,eAAKI,KAAL,CAAWC,WAAX,CAAuBL,GAAvB;AACA,eAAKI,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,SAJD,MAIO;AACL,eAAKb,QAAL,CAAc;AAAEO,YAAAA,KAAK,EAAE;AAAT,WAAd;AACD;AACF,OARD;AASD,KA3Ba;;AAEZ,SAAKZ,KAAL,GAAa;AACXY,MAAAA,KAAK,EAAE,KADI;AAEXX,MAAAA,MAAM,EAAE;AACNkB,QAAAA,QAAQ,EAAE,EADJ;AAENC,QAAAA,QAAQ,EAAE;AAFJ;AAFG,KAAb;AAOD;;AAoBDC,EAAAA,MAAM,GAAG;AAAA,UACCpB,MADD,GACY,KAAKD,KADjB,CACCC,MADD;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKD,KAAL,CAAWY,KAAX,GAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAnB,GAA2C,IAD9C,EAEE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKN,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,WAAW,EAAC,UAFd;AAGE,MAAA,KAAK,EAAEL,MAAM,CAACkB,QAHhB;AAIE,MAAA,QAAQ,EAAE,KAAKtB,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAUE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,WAAW,EAAC,UAHd;AAIE,MAAA,KAAK,EAAEI,MAAM,CAACmB,QAJhB;AAKE,MAAA,QAAQ,EAAE,KAAKvB,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAVF,EAoBE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,uBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eApBF,CADF,CAFF,CADF;AA+BD;;AA/DiC;;AAkEpC,eAAeH,KAAf","sourcesContent":["import React from 'react';\nimport { api } from '../services/api';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      error: false,\n      fields: {\n        username: '',\n        password: ''\n      }\n    };\n  }\n\n  handleChange = e => {\n    const newFields = { ...this.state.fields, [e.target.name]: e.target.value };\n    this.setState({ fields: newFields });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    api.auth.login(this.state.fields).then(res => {\n      if (!res.error) {\n        const updatedState = { ...this.state.auth, user: res };\n        this.props.handleLogin(res);\n        this.props.history.push('/');\n      } else {\n        this.setState({ error: true });\n      }\n    });\n  };\n\n  render() {\n    const { fields } = this.state;\n    return (\n      <div>\n        {this.state.error ? <h1>Try again...</h1> : null}\n        <div className=\"ui form\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"ui field\">\n              <label>Username</label>\n              <input\n                name=\"username\"\n                placeholder=\"username\"\n                value={fields.username}\n                onChange={this.handleChange}\n              />\n            </div>\n            <div className=\"ui field\">\n              <label>Password</label>\n              <input\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"password\"\n                value={fields.password}\n                onChange={this.handleChange}\n              />\n            </div>\n            <button type=\"submit\" className=\"ui basic green button\">\n              Login\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}